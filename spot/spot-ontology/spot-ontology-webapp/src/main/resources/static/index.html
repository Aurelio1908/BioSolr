<!DOCTYPE html>
<html ng-app="ontologyApp">
    <head>
        <title>Ontology search</title>
        <meta charset="utf-8" />
        
        <script src="/webjars/angularjs/1.3.2/angular.min.js"></script>
        <script src="/webjars/jquery/1.11.1/jquery.min.js"></script>
        <script src="/webjars/bootstrap/3.3.0/js/bootstrap.min.js"></script>
        <script src="/webjars/underscorejs/1.7.0/underscore-min.js"></script>
    
        <script src="/js/app.js"></script>
        <script src="/js/controllers.js"></script>

        <link rel="stylesheet" href="/webjars/bootstrap/3.3.0/css/bootstrap.css" />
        <link rel="stylesheet" href="/css/spot_ontology.css" />
    </head>

    <body ng-controller="OntologyPageCtrl">
    
        <div class="container">
    
            <div class="row search_form"><div class="col-md-10">
                <form ng-submit="search()" class="form-inline">
                    <input type="text" ng-model="query" class="form-control" />
                    <button type="submit" class="btn">Search</button>
                </form>
            </div></div>
            
            <div class="row"><div class="col-md-10">
                <div ng-show="error">{{ error }}</div>
            </div></div>
            
            <div ng-show="results">
                <div class="row results_header"><div class="col-md-10">
                    Showing records {{ start }}-{{ end }} of {{ total }} results.
                </div></div>
            
                <div ng-repeat="result in results">
                    <div class="row">
                        <div class="col-md-1">{{ $index+1 }}.</div>
                        <div class="col-md-9">
                            <strong>{{ result.title }}</strong><br />
                            {{result.firstAuthor}} - {{result.publication}}<br />
                            <div ng-show="result.efoLabels" class="row">
                                <div class="col-md-2"><strong>EFO Label(s)</strong></div>
                                <div class="col-md-9">
	                                <ul class="label-display">
	                                    <li ng-repeat="label in result.efoLabels">{{ label }}</li>
	                                </ul>
                                </div>
                            </div>
                            <div ng-show="result.childLabels" class="row">
                                <div class="col-md-2"><strong>EFO children</strong></div>
                                <div class="col-md-9">
                                <ul class="label-display">
                                    <li ng-repeat="label in result.childLabels">{{ label }}</li>
                                </ul>
                                </div>
                            </div>
                            <div ng-show="result.parentLabels" class="row">
                                <div class="col-md-2"><strong>EFO parent(s)</strong></div>
                                <div class="col-md-9">
                                <ul class="label-display">
                                    <li ng-repeat="label in result.parentLabels">{{ label }}</li>
                                </ul>
                                </div>
                            </div>
                            <div ng-show="hasRelated(result)" class="row">
                                <div class="col-md-2"><strong>Related</strong></div>
                                <div class="col-md-9"><ul>
	                                <li ng-repeat="(key, labels) in result.relatedLabels">
	                                    {{ formatRelatedType(key) }}
	                                    <ul class="label-display">
		                                    <li ng-repeat="label in labels">{{ label }}</li>
	                                    </ul>
	                                </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        
        </div>
    
    </body>
</html>